var CanvasMouseReader={element:"#game",vertex:[0,0],leftdown:[],rightdown:[],middledown:[],leftup:[],rightup:[],middleup:[],left:!1,middle:!1,right:!1,start:function(){var b=this;$(this.element).mousemove(function(c){var a=0,d=0;$(this).parents().each(function(){a+=$(this).scrollTop();d+=$(this).scrollLeft()});a-=$(this).scrollTop();d-=$(this).scrollLeft();b.vertex[0]=c.pageX-(document.getElementById($(this).prop("id")).offsetLeft-pageXOffset)-d;b.vertex[1]=c.pageY-(document.getElementById($(this).prop("id")).offsetTop-
pageYOffset)-a});$(this.element).mousedown(function(c){switch(c.which){case 1:b.left=!0;b.leftdown.map(function(a){a.call();return a});break;case 2:b.middle=!0;b.middledown.map(function(a){a.call();return a});break;case 3:b.right=!0,b.rightdown.map(function(a){a.call();return a})}});$(this.element).mouseup(function(c){switch(c.which){case 1:b.left=!1;b.leftup.map(function(a){a.call();return a});break;case 2:b.middle=!1;b.middleup.map(function(a){a.call();return a});break;case 3:b.right=!1,b.rightup.map(function(a){a.call();
    return a})}})},onmousedown:function(b,c){switch(b){case 1:this.leftdown.push(c);break;case 2:this.middledown.push(c);break;case 3:this.rightdown.push(c)}},onmouseup:function(b,c){switch(b){case 1:this.leftup.push(c);break;case 2:this.middleup.push(c);break;case 3:this.rightup.push(c)}},LEFT:1,MIDDLE:2,RIGHT:3};