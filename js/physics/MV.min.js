define(function(){var a={dot:function(b,c){return b.reduce(function(e,f,d){return e+b[d]*c[d]},0)},VxV:function(b,c){return b.map(function(e,d){return e*c[d]})},VdV:function(b,c){return b.map(function(e,d){return e/c[d]})},VpV:function(b,c){return b.map(function(e,d){return e+c[d]})},VmV:function(b,c){return b.map(function(e,d){return e-c[d]})},SxV:function(d,b){return b.map(function(c){return d*c})},MxV:function(c,b){return c.map(function(d){return a.dot(d,b)})},transpose:function(b){if(b.length>0&&!Array.isArray(b[0])){return b}var e=b[0].length;var c=[];var d;for(d=0;d<e;d++){c[d]=b.map(function(f){return f[d]})}return c},cross2:function(b,c){return b[0]*c[1]-b[1]*c[0]},norm:function(b){return Math.sqrt(a.dot(b,b))},normalize:function(b){return a.SxV(1/a.norm(b),b)},min:function(b,c){if(c===undefined){return b.reduce(function(d,e){return d<e?d:e})}else{return b.reduce(function(d,e){return(d[c]<e[c])?d:e})[c]}},med:function(c,b){return[(c[0]+b[0])/2,(c[1]+b[1])/2]},max:function(b,c){if(c===undefined){return b.reduce(function(d,e){return d>e?d:e})}else{return b.reduce(function(d,e){return(d[c]>e[c])?d:e})[c]}},minIndex:function(b,c){if(c===undefined){return b.reduce(function(f,g,e,d){return(d[e]<d[f])?e:f},0)}else{return b.reduce(function(f,g,e,d){return(d[e][c]<d[f][c])?e:f},0)}},rotate:function(m,e,b){var k=a.toRadians(e);b=b==undefined?[0,0]:b;var h=b[0];var g=b[1];var l=m[0];var j=m[1];var f=Math.cos(k);var i=Math.sin(k);var d=l-h;var c=j-g;return[(d*f-c*i)+h,(c*f+d*i)+g]},toRadians:function(b){return b*(Math.PI/180)},getDegree:function(c,b){return a.toDegree(a.getRadians(c,b))},getRadians:function(g,f){var d=a.dot(g,f);var c=a.norm(g);var b=a.norm(f);var e=d/(c*b);return Math.acos(e)},toDegree:function(b){return b*(180/Math.PI)},toInt:function(b){return parseInt(b.substr(0,b.indexOf("px")))},distance:function(c,b){return Math.sqrt(Math.pow(c[0]-b[0],2)+Math.pow(c[1]-b[1],2))},intersectPoint:function(i,n,p,j){var o=p[0]-j[0],m=i[0]-n[0],l=p[1]-j[1],k=i[1]-n[1];i=i[0]*n[1]-i[1]*n[0];p=p[0]*j[1]-p[1]*j[0];j=m*l-k*o;o=i*o-m*p;return 0==j||0==o?null:[o/j,(i*l-k*p)/j]}};return a});